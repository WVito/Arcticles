# Arcticles
## 密集匹配优化模块加速思路

1. 优化存在迭代行为，会反复的对深度图的三个矩阵（depthmap、normalmap、confmap）反复操作，因此要在迭代之前将这三张图传输到gpu显存中，后续迭代全部在此基础上进行。
2. 深度图扩散方向为对角线方向，因此斜对角线方向可以多线程同时运行。
   - 原有程序在计算zigzag顺序时考虑到线程数，所以同一条斜对角线上的最多能同时处理的像素个数收到限制，超出限制的将作为另外的分组。
   - cuda程序能够兼容大量线程同时处理，所以需要取消这个限制，将同一条斜对角线上的所有元素放入同一组，让gpu去一次性执行。
